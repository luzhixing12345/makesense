<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Document
    </title>
    <link rel='stylesheet' href=../../../css/prism.css /><link rel='stylesheet' href=../../../css/index.css />
    <link rel="icon" href="https://raw.githubusercontent.com/learner-lu/picbed/master/logo.png">
</head>

<body class="light">
    <div class="header-navigator"><ul><li><a href="#h1-0">make参数</a></li></ul></div><div class='markdown-body'><h1 id="h1-0">make参数</h1><ul><li>-n, --just-print, --dry-run, --recon<p>不执行参数，这些参数只是打印命令，不管目标是否更新，把规则和连带规则下的命令打印出来，但不执行，这些参数对于我们调试 makefile 很有用处</p></li></ul><ul><li>-t, --touch<p>把目标文件的时间更新，但不更改目标文件。也就是说，make 假装编译目标，但不是真正的编译目标，只是把目标变成已编译过的状态</p></li></ul><ul><li>-q, --question<p>这个参数的行为是找目标的意思，也就是说，如果目标存在，那么其什么也不会输出，当然也不会执行编译，如果目标不存在，其会打印出一条出错信息</p></li></ul><ul><li>-W <a href="file" target="_blank">file</a>, --what-if=<a href="file" target="_blank">file</a>, --assume-new=<a href="file" target="_blank">file</a>, --new-file=<a href="file" target="_blank">file</a><p>这个参数需要指定一个文件。一般是是源文件（或依赖文件），Make 会根据规则推导来运行依赖于这个文件的命令，一般来说，可以和“-n”参数一同使用，来查看这个依赖文件所发生的规则命令。另外一个很有意思的用法是结合 -p 和 -v 来输出 makefile 被执行时的信息</p></li></ul><ul><li>-b, -m<p>这两个参数的作用是忽略和其它版本 make 的兼容性</p></li></ul><ul><li>-B, --always-make<p>认为所有的目标都需要更新（重编译）</p></li></ul><ul><li>-C <a href="dir" target="_blank">dir</a>, --directory=<a href="dir" target="_blank">dir</a><p>指定读取 makefile 的目录。如果有多个“-C”参数，make 的解释是后面的路径以前面的作为相对路径，并以最后的目录作为被指定目录。如：“make -C ~hchen/test -C prog”等价于“make -C ~hchen/test/prog”</p></li></ul><ul><li>-debug[=<a href="options" target="_blank">options</a>]<p>输出 make 的调试信息。它有几种不同的级别可供选择，如果没有参数，那就是输出最简单的调试信息。下面是 <a href="options" target="_blank">options</a> 的取值</p><ul><li>a: 也就是 all，输出所有的调试信息。（会非常的多）</li></ul><ul><li>b: 也就是 basic，只输出简单的调试信息。即输出不需要重编译的目标。</li></ul><ul><li>v: 也就是 verbose，在 b 选项的级别之上。输出的信息包括哪个 makefile 被解析，不需要被重编译的依赖文件（或是依赖目标）等。</li></ul><ul><li>i: 也就是 implicit，输出所有的隐含规则。</li></ul><ul><li>j: 也就是 jobs，输出执行规则中命令的详细信息，如命令的 PID、返回码等。</li></ul><ul><li>m: 也就是 makefile，输出 make 读取 makefile，更新 makefile，执行 makefile 的信息。</li></ul></li></ul><ul><li>-d<p>相当于“–debug=a”</p></li></ul><ul><li>-e, --environment-overrides<p>指明环境变量的值覆盖 makefile 中定义的变量的值</p></li></ul><ul><li>-f=<a href="file" target="_blank">file</a>, --file=<a href="file" target="_blank">file</a>, --makefile=<a href="file" target="_blank">file</a><p>指定需要执行的 makefile</p></li></ul><ul><li>-h, --help<p>显示帮助信息。</p></li></ul><ul><li>-i , --ignore-errors<p>在执行时忽略所有的错误</p></li></ul><ul><li>-I <a href="dir" target="_blank">dir</a>, --include-dir=<a href="dir" target="_blank">dir</a><p>指定一个被包含 makefile 的搜索目标。可以使用多个“-I”参数来指定多个目录</p></li></ul><ul><li>-j [<a href="jobsnum" target="_blank">jobsnum</a>], --jobs[=<a href="jobsnum" target="_blank">jobsnum</a>]<p>指同时运行命令的个数。如果没有这个参数，make 运行命令时能运行多少就运行多少。如果有一个以上的“-j”参数，那么仅最后一个“-j”才是有效的。（注意这个参数在 MS-DOS 中是无用的）</p></li></ul><ul><li>-k, --keep-going<p>出错也不停止运行。如果生成一个目标失败了，那么依赖于其上的目标就不会被执行了</p></li></ul><ul><li>-l <a href="load" target="_blank">load</a>, --load-average[=<a href="load" target="_blank">load</a>], -max-load[=<a href="load" target="_blank">load</a>]<p>指定 make 运行命令的负载</p></li></ul><ul><li>-o <a href="file" target="_blank">file</a>, --old-file=<a href="file" target="_blank">file</a>, --assume-old=<a href="file" target="_blank">file</a><p>不重新生成的指定的 <a href="file" target="_blank">file</a>，即使这个目标的依赖文件新于它</p></li></ul><ul><li>-p, --print-data-base<p>输出 makefile 中的所有数据，包括所有的规则和变量。这个参数会让一个简单的 makefile 都会输出一堆信息。如果你只是想输出信息而不想执行 makefile，你可以使用“make -qp”命令。如果你想查看执行 makefile 前的预设变量和规则，你可以使用 <code>make –p –f /dev/null</code>。这个参数输出的信息会包含着你的 makefile 文件的文件名和行号，所以，用这个参数来调试你的 makefile 会是很有用的，特别是当你的环境变量很复杂的时候</p></li></ul><ul><li>-r, --no-builtin-rules<p>禁止 make 使用任何隐含规则</p></li></ul><ul><li>-R, --no-builtin-variabes<p>禁止 make 使用任何作用于变量上的隐含规则</p></li></ul><ul><li>-s, --silent, --quiet<p>在命令运行时不输出命令的输出。</p></li></ul><ul><li>-S, --no-keep-going, --stop<p>取消“-k”选项的作用。因为有些时候，make 的选项是从环境变量“MAKEFLAGS”中继承下来的。所以你可以在命令行中使用这个参数来让环境变量中的“-k”选项失效</p></li></ul><ul><li>-v, --version<p>输出 make 程序的版本、版权等关于 make 的信息</p></li></ul><ul><li>--warn-undefined-variables<p>只要 make 发现有未定义的变量，那么就输出警告信息</p></li></ul></div>
    <div class="dir-tree"><ul><li><a href="../../md-docs/README" >README</a></li></ul><ul><li><a href="../../md-docs/Makefile函数" >Makefile函数</a></li></ul><ul><li><a href="../../md-docs/常用Makefile" >常用Makefile</a></li></ul><ul><li><a href="../../md-docs/隐含规则" >隐含规则</a></li></ul><ul><li><a href="../../md-docs/make参数" >make参数</a></li></ul><ul><li><a href="../../md-docs/自动化变量" >自动化变量</a></li></ul></div>
    <div class="zood"><a class="" href="https://github.com/luzhixing12345/zood" target="_blank">zood</a></div>
    <script type="text/javascript" src="../../../js/next_front.js"></script><script>addLink("../../md-docs/隐含规则","../../md-docs/自动化变量","ab")</script><script type="text/javascript" src="../../../js/change_mode.js"></script><script>addChangeModeButton("../../../img/sun.png","../../../img/moon.png")</script><script type="text/javascript" src="../../../js/copy_code.js"></script><script>addCodeCopy("../../../img/before_copy.png","../../../img/after_copy.png")</script><script type="text/javascript" src="../../../js/navigator.js"></script><script type="text/javascript" src="../../../js/prism.js"></script><script type="text/javascript" src="../../../js/picture_preview.js"></script><script type="text/javascript" src="../../../js/check_box.js"></script>
</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Document
    </title>
    <link rel='stylesheet' href=../../../css/prism.css /><link rel='stylesheet' href=../../../css/index.css />
    <link rel="icon" href="https://raw.githubusercontent.com/learner-lu/picbed/master/logo.png">
</head>

<body class="light">
    <div class='markdown-body'><h1>自动化变量</h1><p>对于 $< ，为了避免产生不必要的麻烦，我们最好给 $ 后面的那个特定字符都加上圆括号，比如，$(<) 就要比 $< 要好一些</p><ul><li>$@<p>表示规则中的目标文件集。在模式规则中，如果有多个目标，那么，$@ 就是匹配于目标中模式定义的集合</p></li></ul><ul><li>$%<p>仅当目标是函数库文件中，表示规则中的目标成员名。例如，如果一个目标是 foo.a(bar.o)，那么，$% 就是 bar.o ，$@ 就是 foo.a 。如果目标不是函数库文件（Unix 下是 .a ，Windows下是 .lib ），那么，其值为空</p></li></ul><ul><li>$<<p>依赖目标中的第一个目标名字。如果依赖目标是以模式（即 % ）定义的，那么 $< 将是符合模式的一系列的文件集。注意，其是一个一个取出来的</p></li></ul><ul><li>$?<p>所有比目标新的依赖目标的集合。以空格分隔</p></li></ul><ul><li>$^<p>所有的依赖目标的集合。以空格分隔。如果在依赖目标中有多个重复的，那么这个变量会去除重复的依赖目标，只保留一份</p></li></ul><ul><li>$+<p>这个变量很像 $^ ，也是所有依赖目标的集合。只是它不去除重复的依赖目标</p></li></ul><ul><li>$*<p>这个变量表示目标模式中 % 及其之前的部分。如果目标是 dir/a.foo.b ，并且目标的模式是a.%.b ，那么，$* 的值就是 dir/foo 。这个变量对于构造有关联的文件名是比较有效。如果目标中没有模式的定义，那么 $* 也就不能被推导出，但是，如果目标文件的后缀是 make 所识别的，那么 $* 就是除了后缀的那一部分。例如：如果目标是 foo.c ，因为 .c 是 make 所能识别的后缀名，所以，$* 的值就是 foo 。这个特性是 GNU make 的，很有可能不兼容于其它版本的 make，所以，你应该尽量避免使用 $* ，除非是在隐含规则或是静态模式中。如果目标中的后缀是 make 所不能识别的，那么 $* 就是空值</p></li></ul><ul><li>$(@D)<p>表示 $@ 的目录部分（不以斜杠作为结尾），如果 $@ 值是 dir/foo.o ，那么 $(@D) 就是 dir ，而如果 $@ 中没有包含斜杠的话，其值就是 . （当前目录）</p></li></ul><ul><li>$(@F)<p>表示 $@ 的文件部分，如果 $@ 值是 dir/foo.o ，那么 $(@F) 就是 foo.o ，$(@F) 相当于函数$(notdir $@)</p></li></ul><ul><li>$(<i>D), $(</i>F)<p>和上面所述的同理，也是取文件的目录部分和文件部分。对于上面的那个例子，$(*D) 返回 dir ，而 $(*F) 返回 foo</p></li></ul><ul><li>$(%D), $(%F)<p>分别表示了函数包文件成员的目录部分和文件部分。这对于形同 archive(member) 形式的目标中的 member 中包含了不同的目录很有用</p></li></ul><ul><li>$(<D), $(<F)<p>分别表示依赖文件的目录部分和文件部分</p></li></ul><ul><li>$(^D), $(^F)<p>分别表示所有依赖文件的目录部分和文件部分。（无相同的）</p></li></ul><ul><li>$(+D), $(+F)<p>分别表示所有依赖文件的目录部分和文件部分。（可以有相同的）</p></li></ul><ul><li>$(?D), $(?F)<p>分别表示被更新的依赖文件的目录部分和文件部分</p></li></ul></div>
    <div class="dir-tree"><ul><li><a href="../../md-docs/README" >README</a></li></ul><ul><li><a href="../../md-docs/Makefile函数" >Makefile函数</a></li></ul><ul><li><a href="../../md-docs/常用函数" >常用函数</a></li></ul><ul><li><a href="../../md-docs/隐含规则" >隐含规则</a></li></ul><ul><li><a href="../../md-docs/make参数" >make参数</a></li></ul><ul><li><a href="../../md-docs/自动化变量" >自动化变量</a></li></ul></div>
    <div class="zood"><a class="" href="https://github.com/luzhixing12345/zood" target="_blank">zood</a></div>
    <script type="text/javascript" src="../../../js/next_front.js"></script><script>addLink("../../md-docs/make参数",".","ab")</script><script type="text/javascript" src="../../../js/change_mode.js"></script><script>addChangeModeButton("../../../img/sun.png","../../../img/moon.png")</script><script type="text/javascript" src="../../../js/copy_code.js"></script><script>addCodeCopy("../../../img/before_copy.png","../../../img/after_copy.png")</script><script type="text/javascript" src="../../../js/prism.js"></script><script type="text/javascript" src="../../../js/picture_preview.js"></script><script type="text/javascript" src="../../../js/check_box.js"></script>
    <script type="module">
        const codeBlocks = document.querySelectorAll('.language-mermaid');
        codeBlocks.forEach(codeBlock => {
            codeBlock.classList.remove('language-mermaid');
            codeBlock.classList.add('mermaid');
        });
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>
</body>

</html>